{% extends 'back.html.twig' %}

{% block title %}BackOffice | Index {% endblock %}

{% block body %}

    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-7 col-md-10 col-lg-7 col-sm-11">
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success mt-3" role="alert">
                        <i class="fas fa-check-circle mx-2"></i>
                        {{ message }}

                    </div>
                {% endfor %}

                {% for message in app.flashes('danger') %}
                    <div class="alert alert-error mt-3" role="alert">
                        <i class="fas fa-exclamation-circle mx-2"></i>
                        {{ message }}

                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="row fila-inputs-productos">
            <div class="col-7 bg-light" style="border: 2px solid black">

                <form method="post" action=""
                class="form-inline">
                <div class="form-group">
                    <input name="text"
                           value=""
                    type="text" placeholder="Buscar" aria-label="Search">
                </div>
                <div class="form-check-inline ml-3">
                    <label class="form-check-label">
                        <input class="form-check-input" type="radio" name="optradio" id="nombre" value="nombre">&nbsp;Nombre                        &nbsp;
                    </label>
                </div>
                <div class="form-check-inline">
                    <label class="form-check-inline">
                        <input class="form-check-input" type="radio" name="optradio" id="descripcion" value="descripcion">&nbsp;Descripcion                        &nbsp;
                    </label></div>
                <div class="form-check-inline">
                    <label class="form-check-inline">
                        <input class="form-check-input" type="radio" name="optradio" id="both" value="both" checked>&nbsp;Ambos                        &nbsp;
                    </label>
                </div>
                <div class="form-group">
                    <button style="margin-top: 15px; margin-left: 0px" class="button-four" type="submit" name="botonFiltrar">Buscar</button>
                </div>
                </form>
            </div>

        </div>

        <div class="container">
            <div class="row">
                <div class="col-4">
                    <table id="tabla-productos">
                        <tr>
                            <th>Imagen</th>
                            <th>Nombre <a href="/movies?order=title&&tipo=ASC"><i
                                            class="fa fa-arrow-down"></i></a>
                                <a href="/movies?order=title&&tipo=DESC"><i
                                            class="fa fa-arrow-up"></i></a></th>
                            <th>Categoría</th>
                            <th>Descripción</th>
                            <th>Precio</th>
                        </tr>
                        {% if productos %}
                        {% for producto in productos %}
                        <tr>
                            <td><img src="{{ asset(pictures_public_directory ~  producto.imagen)}}" height="200"></td>
                            <td>{{producto.nombre}}</td>
                            <td>{{  producto.categoria }}</td>
                            <td>{{ producto.descripcion }}</td>
                            <td>{{ producto.precio}}</td>
                        </tr>
                        {% endfor %}
                        {% else %}
                            <h2>No hay productos disponibles</h2>
                        {% endif %}
                    </table>


                </div>
            </div>
        </div>
    </div>

{% endblock %}
